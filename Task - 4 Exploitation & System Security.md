# Objective:

* Learn penetration testing workflow and exploit vulnerabilities responsibly.

#### Sub-Tasks :

1. Penetration Testing Methodology.
2. Exploitation with Metasploit.
3. Password Attacks.
4. Social Engineering (Simulation Only).
5.  Malware Basics.

## Penetration Testing Methodology :

A Penetration Testing Methodology is a structured, repeatable framework that ethical hackers follow to identify, test, and document security vulnerabilities in an organisationâ€™s infrastructure.

Rather than attacking systems randomly, a methodology ensures that the assessment is thorough, safe, and provides the client with a clear path to remediation.

### 1. Reconnaissance (Information Gathering):
   
* The goal is to gather as much information as possible about the target without necessarily interacting with their systems directly.

* Passive Recon: Gathering data from public sources (OSINT). This includes searching LinkedIn for employee names, checking WHOIS records, and harvesting emails from breaches.

* Active Recon: Interacting with the target's infrastructure, such as performing DNS zone transfers or checking website headers.

* Targeting: Identifying IP ranges, domain names, and third-party services (cloud buckets) associated with the organisation.

### 2. Scanning & Enumeration:

* Once the perimeter is defined, you look for "doors" and "windows" that might be open.

* Port Scanning: Using tools like Nmap to find open ports (e.g., Port 80 for HTTP, Port 445 for SMB).

* Service Identification: Determining what software and version is running on those ports (e.g., Apache 2.4.41).

* Vulnerability Scanning: Using automated tools (Nessus, OpenVAS) to cross-reference identified services against known vulnerability databases (CVEs).

### 3. Exploitation (Gaining Access)

* This is the "hack" itself. The goal is to bypass security controls to gain an initial foothold.

* Weaponisation: Selecting or creating an exploit for a specific vulnerability found during scanning.

* Payload Delivery: Sending the exploit to the target (e.g., via a malicious link, a crafted network packet, or a brute-force attack).

* Gaining a Shell: Establishing a command-line connection to the target system. This is often a "reverse shell" where the victim connects back to the attacker to bypass firewalls.

### 4. Post-Exploitation

* After gaining access, the focus shifts to maintaining that access and determining the value of the compromised machine.

* Privilege Escalation: Moving from a low-level user account to a high-level "System" or "Root" account.

* Persistence: Installing backdoors or creating new accounts so you can return even if the system reboots.

* Lateral Movement: Using the first compromised machine to jump to other, more sensitive systems on the same network.

* Data Exfiltration: Identifying and "stealing" sensitive data to prove the business impact of the breach.

### 5. Reporting

* The most critical phase for the client. The report translates technical findings into actionable business intelligence.

* Executive Summary: A high-level overview for non-technical stakeholders explaining the overall risk.

* Technical Breakdown: Detailed logs of the methods used, vulnerabilities exploited, and evidence (screenshots).

* Risk Rating: Categorising findings by severity (Critical, High, Medium, Low).

* Remediation: Providing specific instructions on how to patch the vulnerabilities and improve the overall security posture.


## Exploitation with Metasploit

### Exploiting a Known Vulnerability

* Metasploitable2 runs several outdated services. One classic example is the vsftpd (version 2.3.4) backdoor. This specific version of the FTP server was compromised at the source, meaning if a user enters a username ending in a smiley face :), the server opens a listener on port 6200.

* The Process in Metasploit:

1. Search: Use search vsftpd within the Metasploit Framework (MSF).

2. Select: Use the module exploit/unix/ftp/vsftpd_234_backdoor.

3. Target: Set the RHOSTS (Remote Host) to the IP address of the Metasploitable2 machine.

4. Execute: Running exploit triggers the backdoor.

### Creating a Reverse Shell

* While the backdoor above provides a direct shell, a Reverse Shell is a more common technique used when the target is behind a firewall. Instead of the attacker connecting to the victim, the victim "calls home" to the attacker's machine.

1. The Listener: The attacker sets up a listener (often using LHOST and LPORT in Metasploit) to wait for the incoming connection.

2. The Payload: The exploit delivers a "payload" (like cmd/unix/reverse) to the target. Once executed, the target machine initiates a connection back to the attacker, bypassing most inbound firewall rules.

### Post-Exploitation Commands

Once a session is established (often as a Meterpreter session, which is an advanced, multifaceted payload), the goal shifts to understanding the system and securing the findings for a report.

Command          Purpose

sysinfo:       "Displays the target's operating system, kernel version, and architecture. This helps determine if further privilege escalation is possible."

getuid:        "Tells the attacker which user they are running as (e.g., root or msfadmin)."

hashdump:      "Attempts to dump the contents of the /etc/shadow file. This contains the hashed passwords of all users on the system, which can then be tested for                 weakness using ""cracking"" tools."

